@* @model FruitablesBL.ViewModels.ManageProductVM



 @* @model FruitablesBL.ViewModels.ManageProductVM

<div class="container">
    <h1>Delete Product</h1>

    <p>Are you sure you want to delete the following product?</p>

    <dl class="row">
        <dt class="col-sm-3">Product ID:</dt>
        <dd class="col-sm-9">@Model.ProductId</dd>

        <dt class="col-sm-3">Name:</dt>
        <dd class="col-sm-9">@Model.Name</dd>

        <dt class="col-sm-3">Description:</dt>
        <dd class="col-sm-9">@Model.Description</dd>

        <!-- Add more details as needed -->
    </dl>
    
    <input type="hidden" name="productId" value="@Model.ProductId">

    @using (Html.BeginForm("Delete", "Product", new { productId = Model.ProductId }, FormMethod.Post))
    {
        @Html.AntiForgeryToken()

        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <button type="submit" class="btn btn-danger me-md-2">Delete</button>
            <a href="@Url.Action("Index", "Product")" class="btn btn-secondary">Cancel</a>
        </div>
    }
</div> *@
@* 
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delete Confirmation</title>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
<style>
    body {
        background: #E2E5EE;
    }
    .close:focus {
        outline: none;
    }
    .container.justify-content-center {
        margin-top: 200px;
    }
    .modal-header {
        border: none;
    }
    .modal-footer {
        border: none;
    }
    .btn-danger {
        background: #DD2750;
        border: 1px solid #C43352;
    }
    .btn-light {
        border: 1px solid #E7E7E9;
    }
    .btn:focus {
        box-shadow: none;
    }
</style>
</head>
<body>

<div class="container d-flex justify-content-center">
    <button type="button" class="btn btn-danger btn-lg" data-toggle="modal" data-target="#exampleModal">DELETE</button>
</div>

<!-- Modal -->
<div class="modal fade" id="exampleModal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog" role="document">
        <div class="modal-content">
            <div class="modal-header">
                <div class="container d-flex pl-0"><img src="https://imgur.com/Kh1gwTq.png"><h5 class="modal-title ml-2" id="exampleModalLabel">Delete the link?</h5></div>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <span aria-hidden="true">&times;</span>
                </button>
            </div>
            <div class="modal-body">
                <p class="text-muted">If you delete the link will be gone forever. Are you sure you want to proceed?</p>
            </div>
            <div class="modal-footer">
                <button type="button" class="btn btn-light" data-dismiss="modal">Cancel</button>
                <button type="button" class="btn btn-danger">Delete</button>
            </div>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
</body>
</html> *@


@{
    Layout = null;
    ViewData["Title"] = "Delete";
}
<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Delete Product Confirmation</title>
<link href="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/css/bootstrap.min.css" rel="stylesheet">
<style>
    body {
        background: #E2E5EE;
    }
</style>
</head>
<body>

<div class="container d-flex justify-content-center align-items-center vh-100">
    <div class="card">
        <div class="card-header bg-danger text-white">
            <h5 class="mb-0">Delete Product</h5>
        </div>
        <div class="card-body">
            <p class="card-text">Are you sure you want to delete the following product?</p>
            <dl class="row">
                <dt class="col-sm-3">Product ID:</dt>
                <dd class="col-sm-9">@Model.ProductId</dd>

                <dt class="col-sm-3">Name:</dt>
                <dd class="col-sm-9">@Model.Name</dd>

                <dt class="col-sm-3">Description:</dt>
                <dd class="col-sm-9">@Model.Description</dd>
            </dl>
            
           <form id="deleteForm" action="@Url.Action("Delete", "Product", new { productId = Model.ProductId })" method="post">
    @Html.AntiForgeryToken()

    <div class="d-grid gap-2 d-md-flex justify-content-md-end">
        <button type="submit" class="btn btn-danger me-md-2">Delete</button>
        <a href="@Url.Action("Index", "Dashboard")" class="btn btn-secondary">Cancel</a>
    </div>
</form>

<script>
    document.getElementById('deleteForm').addEventListener('submit', function(event) {
        event.preventDefault(); // Prevent default form submission

        if (confirm('Are you sure you want to delete this product?')) {
            // Submit the form via AJAX
            var form = this;
            fetch(form.action, {
                method: form.method,
                body: new FormData(form)
            }).then(function(response) {
                if (response.ok) {
                    alert('Product deleted successfully!');
                    window.location.href = '@Url.Action("Index", "Dashboard")'; // Redirect to the dashboard
                } else {
                    alert('Failed to delete product.');
                }
            }).catch(function(error) {
                console.error('Error:', error);
                alert('An error occurred while deleting the product.');
            });
        }
    });
</script>

        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.4.1/js/bootstrap.bundle.min.js"></script>
</body>
</html>
